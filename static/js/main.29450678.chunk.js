(this["webpackJsonpditup-solid"]=this["webpackJsonpditup-solid"]||[]).push([[0],{118:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var r=n(6),i=n(0),a=n.n(i),c=n(44),o=function(){var t=Object(r.a)(a.a.mark((function t(n){var r,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(c.fetch)(n);case 2:return r=t.sent,t.t0="data:".concat(r.headers.get("content-type"),";base64,"),t.t1=e,t.next=7,r.arrayBuffer();case 7:return t.t2=t.sent,t.t3=t.t1.from.call(t.t1,t.t2).toString("base64"),i=t.t0.concat.call(t.t0,t.t3),t.abrupt("return",i);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}).call(this,n(45).Buffer)},136:function(e,t,n){e.exports={horizontalList:"HorizontalList_horizontalList__1L95r",masonryGrid:"HorizontalList_masonryGrid__SBFhx",masonryGridColumn:"HorizontalList_masonryGridColumn__wQWhs"}},138:function(e,t,n){e.exports={header:"Header_header__34Mnk",homeLink:"Header_homeLink__2Plqh",logo:"Header_logo__3Vr_I",separator:"Header_separator__jCo-_"}},155:function(e,t,n){e.exports={ditContainer:"DitItem_ditContainer__3S-pN",ditType:"DitItem_ditType__WSDjH",discoverability:"DitItem_discoverability__3m42V"}},156:function(e,t,n){e.exports={page:"Homepage_page__3ASb0",wrapper:"Homepage_wrapper__yr9nO",homeImage:"Homepage_homeImage__1og7O"}},197:function(e,t,n){e.exports={container:"PersonSummary_container__niwwK",avatar:"PersonSummary_avatar__1cKL_"}},199:function(e,t,n){},332:function(e,t,n){e.exports={form:"DitItemForm_form__PfJgE"}},395:function(e,t){},431:function(e,t){},432:function(e,t){},506:function(e,t){},508:function(e,t){},552:function(e,t){},554:function(e,t){},570:function(e,t){},572:function(e,t){},893:function(e,t,n){},894:function(e,t,n){"use strict";n.r(t);var r,i=n(8),a=n(326),c=n(42),o=n(34),s=n(24),u=(n(199),function(){return Object(c.d)()}),d=c.e,l=n(9),j=n(10),b=n(14),p=n(6),f=n(0),h=n.n(f),O=n(117),v=n(26),m=n(44),g=n(95),x=n(20),y={idea:"https://ditup.example#Idea",problem:"https://ditup.example#Problem"},w=JSON.parse(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_INDEX_SERVERS||"[]"),I=JSON.parse(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_INDEX_INBOXES||"[]"),S=Object(g.a)({reducerPath:"solidapi",baseQuery:function(){var e=Object(p.a)(h.a.mark((function e(t){var n,r,i,a,c,o,s,u,d,p,f,O;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.uri,r=t.data,i=t.fetchProperties,a=t.fetchAll,c=void 0!==a&&a,e.prev=1,e.prev=2,e.next=5,Object(v.e)(n,{fetch:m.fetch});case 5:s=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),s=Object(v.b)();case 11:if(null!==r&&void 0!==r&&r.remove&&r.remove.forEach((function(e){var t,n,r=Object(j.a)(e,3),i=r[0],a=r[1],c=r[2],o=Object(v.h)(null!==(t=u)&&void 0!==t?t:s,i);if(o)if("*"===a)u=Object(v.l)(null!==(n=u)&&void 0!==n?n:s,o);else if("*"===c){var d,l=Object(v.k)(o,a);u=Object(v.q)(null!==(d=u)&&void 0!==d?d:s,l)}else{var b,p=Object(v.m)(o,a,c);u=Object(v.q)(null!==(b=u)&&void 0!==b?b:s,p)}})),null!==r&&void 0!==r&&r.setString&&r.setString.forEach((function(e){var t,n,r=Object(j.a)(e,3),i=r[0],a=r[1],c=r[2],o=null!==(t=Object(v.h)(null!==(n=u)&&void 0!==n?n:s,i))&&void 0!==t?t:Object(v.c)({url:i});if(o){var d,l=Object(v.p)(o,a,c,"en");u=Object(v.q)(null!==(d=u)&&void 0!==d?d:s,l)}})),null!==r&&void 0!==r&&r.setDatetime&&r.setDatetime.forEach((function(e){var t,n,r=Object(j.a)(e,3),i=r[0],a=r[1],c=r[2],o=null!==(t=Object(v.h)(null!==(n=u)&&void 0!==n?n:s,i))&&void 0!==t?t:Object(v.c)({url:i});if(o){var d,l=Object(v.o)(o,a,c);u=Object(v.q)(null!==(d=u)&&void 0!==d?d:s,l)}})),null!==r&&void 0!==r&&r.set&&r.set.forEach((function(e){var t,n,r=Object(j.a)(e,3),i=r[0],a=r[1],c=r[2],o=null!==(t=Object(v.h)(null!==(n=u)&&void 0!==n?n:s,i))&&void 0!==t?t:Object(v.c)({url:i});if(o){var d,l=Object(v.r)(o,a,c);u=Object(v.q)(null!==(d=u)&&void 0!==d?d:s,l)}})),null!==r&&void 0!==r&&r.add&&r.add.forEach((function(e){var t,n,r,i=Object(j.a)(e,3),a=i[0],c=i[1],o=i[2],d=null!==(t=Object(v.h)(null!==(n=u)&&void 0!==n?n:s,a))&&void 0!==t?t:Object(v.c)({url:a}),l=Object(v.a)(d,c,o);u=Object(v.q)(null!==(r=u)&&void 0!==r?r:s,l)})),!u){e.next=19;break}return e.next=19,Object(v.n)(n,u,{fetch:m.fetch});case 19:if(d=c?Object(v.i)(null!==(f=u)&&void 0!==f?f:s):[Object(v.h)(null!==(p=u)&&void 0!==p?p:s,n)].filter((function(e){return!!e})),O=d.map((function(e){return Object(l.a)(Object(l.a)({},Object.fromEntries(Object.entries(i).map((function(t){var n=Object(j.a)(t,2),r=n[0],i=n[1];return[r,[].concat(Object(b.a)(Object(v.j)(e,i)),Object(b.a)(Object(v.f)(e,i)),Object(b.a)(Object(v.g)(e,i)),Object(b.a)(Object(v.d)(e,i)))]})))),{},{uri:[e.url]})})),c||0!==O.length||(null!==(o=null===r||void 0===r?void 0:r.remove)&&void 0!==o?o:[]).find((function(e){return"*"===Object(j.a)(e,2)[1]}))){e.next=23;break}return e.abrupt("return",{error:{message:"thing not found"}});case 23:return e.abrupt("return",{data:O});case 26:return e.prev=26,e.t1=e.catch(1),e.abrupt("return",{error:{message:e.t1.message}});case 29:case"end":return e.stop()}}),e,null,[[1,26],[2,8]])})));return function(t){return e.apply(this,arguments)}}(),tagTypes:["Person","DitThing","Discoverability"],endpoints:function(e){return{readPerson:e.query({query:function(e){return{uri:e,fetchProperties:{name:x.c.name,photo:x.g.hasPhoto,interests:x.c.topic_interest}}},providesTags:function(e,t,n){return[{type:"Person",id:n}]},transformResponse:function(e){var t,n,r=Object(j.a)(e,1)[0],i=r.uri,a=r.name,c=r.photo,o=r.interests;return{uri:i[0],name:null!==(t=a[0])&&void 0!==t?t:"",photo:null!==(n=c[0])&&void 0!==n?n:"",interests:o}}}),readDitItem:e.query({query:function(e){return{uri:e,fetchProperties:{type:x.d.type,label:x.e.label,description:x.b.description,tags:x.a.tag,creator:x.b.creator,createdAt:x.b.created,updatedAt:x.b.modified}}},transformResponse:function(e){var t,n=Object(j.a)(e,1)[0],r=n.uri,i=n.type,a=n.label,c=n.description,o=n.tags,s=n.creator,u=n.createdAt,d=n.updatedAt;return{uri:r[0],type:null!==(t=Object.keys(y).find((function(e){return y[e]===i[0]})))&&void 0!==t?t:"idea",label:a[0],description:c[0],tags:o,creator:s[0],createdAt:u[0]?new Date(u[0]).getTime():void 0,updatedAt:d[0]?new Date(d[0]).getTime():void 0}},providesTags:function(e,t,n){return[{type:"DitThing",id:n}]}}),readDitItems:e.query({query:function(e){return{uri:e,fetchAll:!0,fetchProperties:{type:x.d.type,label:x.e.label,description:x.b.description,tags:x.a.tag,creator:x.b.creator,createdAt:x.b.created,updatedAt:x.b.modified}}},transformResponse:function(e){return e.map((function(e){var t=e.uri,n=e.type,r=e.label,i=e.description,a=e.tags,c=e.creator,o=e.createdAt,s=e.updatedAt;return{uri:t[0],type:Object.keys(y).find((function(e){return n.includes(y[e])})),label:r[0],description:i[0],tags:a,creator:c[0],createdAt:o[0]?new Date(o[0]).getTime():void 0,updatedAt:s[0]?new Date(s[0]).getTime():void 0}})).filter((function(e){return"undefined"!==typeof e.type}))},providesTags:function(e){return(null!==e&&void 0!==e?e:[]).map((function(e){return{type:"DitThing",id:e.uri}}))}}),addInterest:e.mutation({query:function(e){var t=e.uri,n=e.interest;return{uri:t,data:{add:[[t,x.c.topic_interest,n]]},fetchProperties:{interests:x.c.topic_interest}}},invalidatesTags:function(e,t,n){return[{type:"Person",id:n.uri}]}}),removeInterest:e.mutation({query:function(e){var t=e.uri,n=e.interest;return{uri:t,data:{remove:[[t,x.c.topic_interest,n]]},fetchProperties:{interests:x.c.topic_interest}}},invalidatesTags:function(e,t,n){return[{type:"Person",id:n.uri}]}}),createDit:e.mutation({query:function(e){var t=e.thing;return{uri:t.uri,data:{add:[[t.uri,x.d.type,y[t.type]]].concat(Object(b.a)(t.tags.map((function(e){return[t.uri,x.a.tag,e]})))),setString:[[t.uri,x.e.label,t.label],[t.uri,x.b.description,t.description]],setDatetime:[[t.uri,x.b.created,new Date]],set:[[t.uri,x.b.creator,t.creator]]},fetchProperties:{}}},transformResponse:function(e){var t=Object(j.a)(e,1);return Object(j.a)(t[0].uri,1)[0]}}),updateDit:e.mutation({query:function(e){var t=e.thing;return{uri:t.uri,data:{set:[[t.uri,x.d.type,y[t.type]],[t.uri,x.b.creator,t.creator]],remove:[[t.uri,x.a.tag,"*"]],add:t.tags.map((function(e){return[t.uri,x.a.tag,e]})),setString:[[t.uri,x.e.label,t.label],[t.uri,x.b.description,t.description]],setDatetime:[[t.uri,x.b.modified,new Date]]},fetchProperties:{}}},transformResponse:function(e){var t=Object(j.a)(e,1);return Object(j.a)(t[0].uri,1)[0]},invalidatesTags:function(e,t,n){return[{type:"DitThing",id:n.thing.uri}]}}),removeDit:e.mutation({query:function(e){return{uri:e,data:{remove:[[e,"*","*"]]},fetchProperties:{}}},invalidatesTags:function(e,t,n){return[{type:"DitThing",id:n}]}}),readDiscoverability:e.query({queryFn:function(){var e=Object(p.a)(h.a.mark((function e(t){var n,r,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise((function(e){return setTimeout(e,1e3)}));case 3:if(0!==w.length){e.next=5;break}throw new Error("no index servers defined");case 5:return(n=new O.QueryEngine).invalidateHttpCache(),e.next=9,n.queryBindings("\n          SELECT DISTINCT ?tag WHERE {\n            <".concat(t,"> <").concat(x.c.topic_interest,"> | <").concat(x.a.tag,"> ?tag.\n          }\n          "),{sources:Object(b.a)(w),fetch:m.fetch});case 9:return r=e.sent,e.next=12,r.toArray();case 12:return i=e.sent.map((function(e){var t,n;return null!==(t=null===(n=e.get("tag"))||void 0===n?void 0:n.value)&&void 0!==t?t:""})).filter((function(e){return!!e})),e.abrupt("return",{data:i});case 16:return e.prev=16,e.t0=e.catch(0),e.abrupt("return",{error:{message:e.t0.message}});case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}(),providesTags:function(e,t,n){return[{type:"Discoverability",id:n}]}}),notifyIndex:e.mutation({queryFn:function(){var e=Object(p.a)(h.a.mark((function e(t){var n,r,i,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.uri,r=t.person,i=t.action,a=void 0===i?"add":i,e.next=3,C(r);case 3:return e.next=5,Promise.all(I.map((function(e){return Object(m.fetch)(e,{headers:{"content-type":"application/ld+json"},method:"POST",body:JSON.stringify({"@context":"https://www.w3.org/ns/activitystreams","@id":"","@type":"remove"===a?"Remove":"Announce",actor:r,object:n})})})));case 5:return e.next=7,new Promise((function(e){return setTimeout(e,1e3)}));case 7:return e.abrupt("return",{data:0});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),invalidatesTags:function(e,t,n){return[{type:"Discoverability",id:n.uri}]}})}}}),T=function(e){var t,n=null===(t=/^(https?:\/\/.*)\/profile\/card#me$/g.exec(e))||void 0===t?void 0:t[1];if(!n)throw new Error("unable to generate hospex uri from webId");return n+"/public/ditup.ttl"},C=function(){var e=Object(p.a)(h.a.mark((function e(t){var n,r,i,a,c,o,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.e)(t);case 2:if(n=e.sent,r=Object(v.h)(n,t)){e.next=6;break}throw new Error("person not found in document ".concat(t));case 6:if(i=Object(v.j)(r,x.f.oidcIssuer),a=i.length>0){e.next=14;break}return c=_(),o=Object(v.a)(r,x.f.oidcIssuer,c),s=Object(v.q)(n,o),e.next=14,Object(v.n)(t,s,{fetch:m.fetch});case 14:return e.abrupt("return",!a);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=globalThis.localStorage.getItem("solidClientAuthn:currentSession");if(!e)throw new Error("solidClientAuthn:currentSession not found");var t=globalThis.localStorage.getItem("solidClientAuthenticationUser:".concat(e));if(!t)throw new Error("current solidClientAuthenticationUser not found");return JSON.parse(t).issuer},E=n(332),k=n.n(E),D=n(79),P=n(41),R=["concepturi"],L=Object(g.a)({reducerPath:"interestapi",baseQuery:Object(P.d)({baseUrl:"https://www.wikidata.org/w/"}),tagTypes:["Interest"],endpoints:function(e){return{searchInterests:e.query({query:function(e){return{url:"api.php?action=wbsearchentities&search=".concat(encodeURIComponent(e),"&language=en&limit=20&continue=0&format=json&uselang=en&type=item&origin=*")}},transformResponse:function(e){return e.search.map((function(e){var t=e.concepturi,n=Object(D.a)(e,R);return Object(l.a)({uri:t},n)}))},providesTags:function(e,t,n){return[{type:"Interest",id:"QUERY_STRING_"+n}]}}),readInterest:e.query({query:function(e){var t,n,r=null!==(t=null===(n=e.match(N))||void 0===n?void 0:n[2])&&void 0!==t?t:"";return{url:"api.php?action=wbgetentities&ids=".concat(r,"&languages=en&format=json&origin=*")}},transformResponse:function(e,t,n){var r,i,a,c,o,s,u,d;if(e&&e.entities){var l=Object.values(e.entities)[0];if(l){var j=null!==(r=null===(i=l.labels.en)||void 0===i?void 0:i.value)&&void 0!==r?r:"",b=null!==(a=null===(c=l.descriptions.en)||void 0===c?void 0:c.value)&&void 0!==a?a:"",p=(null!==(o=l.claims.P18)&&void 0!==o?o:[]).map((function(e){return e.mainsnak.datavalue.value}))[0],f=(null!==(s=l.claims.P154)&&void 0!==s?s:[]).map((function(e){return e.mainsnak.datavalue.value}))[0],h=p&&"https://commons.wikimedia.org/wiki/Special:FilePath/".concat(encodeURIComponent(p),"?width=300"),O=f&&"https://commons.wikimedia.org/wiki/Special:FilePath/".concat(encodeURIComponent(f),"?width=300"),v=(null!==(u=l.claims.P856)&&void 0!==u?u:[]).map((function(e){return e.mainsnak.datavalue.value}))[0];return{uri:n,label:j,aliases:(null!==(d=l.aliases.en)&&void 0!==d?d:[]).map((function(e){return e.value})),description:b,officialWebsite:v,image:O||h}}}},providesTags:function(e,t,n){return[{type:"Interest",id:n}]}})}}}),N=/^https?:\/\/(w{3}\.)?wikidata\.org\/entity\/([A-Z0-9]*)\/?$/,U=n(33),q=n(30),A=n(15),F=function(){var e=Object(p.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.login)({oidcIssuer:t,redirectUrl:globalThis.location.href,clientName:"ditup"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(p.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.handleIncomingRedirect)({url:globalThis.location.href,restorePreviousSession:!0});case 2:return e.abrupt("return",Object(m.getDefaultSession)().info);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=Object(A.createAsyncThunk)("login/login",F),Q=Object(A.createAsyncThunk)("login/init",H),B=Object(A.createAsyncThunk)("login/logout",m.logout),M=Object(A.createSlice)({name:"login",initialState:{webId:"",isLoggedIn:!1,status:"loading"},reducers:{},extraReducers:function(e){e.addCase(W.pending,(function(e){e.status="loading"})).addCase(W.fulfilled,(function(e){e.status="idle",e.isLoggedIn=!0})).addCase(W.rejected,(function(e,t){e.status="failed",alert(t.error.message)})).addCase(Q.pending,(function(e){e.status="loading"})).addCase(Q.fulfilled,(function(e,t){var n,r;e.status="idle",e.isLoggedIn=t.payload.isLoggedIn,e.webId=null!==(n=null===(r=t.payload)||void 0===r?void 0:r.webId)&&void 0!==n?n:""})).addCase(B.fulfilled,(function(e){e.status="idle",e.isLoggedIn=!1,e.webId=""}))}}),G=function(e){return e.login},z=M.reducer,X=Object(g.a)({reducerPath:"ditapi",baseQuery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{baseSources:[]},t=e.baseSources;return function(){var e=Object(p.a)(h.a.mark((function e(n){var r,i,a,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.query,i=n.sources,a=new O.QueryEngine,e.next=4,a.queryBindings(r,{sources:[].concat(Object(b.a)(t),Object(b.a)(i)),fetch:m.fetch});case 4:return c=e.sent,e.next=7,c.toArray();case 7:return e.t0=e.sent.map((function(e){var t=Object(b.a)(e.keys()).map((function(e){return e.value}));return Object.fromEntries(t.map((function(t){var n,r;return[t,null!==(n=null===(r=e.get(t))||void 0===r?void 0:r.value)&&void 0!==n?n:null]})))})),e.abrupt("return",{data:e.t0});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(),endpoints:function(e){return{getUser:e.query({query:function(e){return{query:"\n          PREFIX foaf: <http://xmlns.com/foaf/0.1/>\n          PREFIX vcard: <http://www.w3.org/2006/vcard/ns#>\n          SELECT ?name ?photo WHERE {\n            <".concat(e,"> foaf:name ?name.\n            OPTIONAL {<").concat(e,"> vcard:hasPhoto ?photo.}\n          }"),sources:[e]}},transformResponse:function(e){return e[0]}}),discoverPeople:e.query({query:function(e){var t=Object(j.a)(e,1)[0];return{query:"\n          PREFIX foaf: <http://xmlns.com/foaf/0.1/>\n          PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n          PREFIX owl: <http://www.w3.org/2002/07/owl#>\n          PREFIX dbo: <http://dbpedia.org/ontology/>\n          SELECT DISTINCT ?person (COUNT(DISTINCT ?thing) as ?commonCount)\n          WHERE {\n            <".concat(t,"> foaf:topic_interest ?thing.\n            ?person foaf:topic_interest ?thing.\n            FILTER(?person != <").concat(t,">)\n          }\n          GROUP BY ?person"),sources:[t].concat(Object(b.a)(w))}},transformResponse:function(e){return e.map((function(e){return{uri:e.person,count:+e.commonCount}}))}}),discoverDits:e.query({query:function(e){var t=Object(j.a)(e,1)[0];return{query:"\n          SELECT DISTINCT ?dit (COUNT(DISTINCT ?thing) as ?commonCount)\n          WHERE {\n            <".concat(t,"> <").concat(x.c.topic_interest,"> ?thing.\n            ?dit <").concat(x.a.tag,"> ?thing.\n          }\n          GROUP BY ?dit"),sources:[t].concat(Object(b.a)(w))}},transformResponse:function(e){return e.map((function(e){return{uri:e.dit,count:+e.commonCount}}))}}),findDitsByTags:e.query({query:function(e){var t=e.map((function(e){return"<".concat(e,">")})).join(" ");return{query:"\n          SELECT DISTINCT ?dit (COUNT(DISTINCT ?thing) as ?matchCount)\n          WHERE {\n            VALUES ?thing { ".concat(t," }\n            ?dit <").concat(x.a.tag,"> ?thing.\n          }\n          GROUP BY ?dit"),sources:Object(b.a)(w)}},transformResponse:function(e){return e.map((function(e){return{uri:e.dit,count:+e.matchCount}}))}}),findPeopleByTags:e.query({query:function(e){var t=e.map((function(e){return"<".concat(e,">")})).join(" ");return{query:"\n          SELECT DISTINCT ?person (COUNT(DISTINCT ?thing) as ?matchCount)\n          WHERE {\n            VALUES ?thing { ".concat(t," }\n            ?person <").concat(x.c.topic_interest,"> ?thing.\n          }\n          GROUP BY ?person"),sources:Object(b.a)(w)}},transformResponse:function(e){return e.map((function(e){return{uri:e.person,count:+e.matchCount}}))}}),findTagsByTags:e.query({query:function(e){var t=e.map((function(e){return"<".concat(e,">")})).join(" ");return{query:"\n          SELECT DISTINCT ?tag (COUNT(DISTINCT ?s) as ?matchCount)\n          WHERE {\n            VALUES ?thing { ".concat(t," }\n            {\n              ?s <").concat(x.c.topic_interest,"> ?thing.\n              ?s <").concat(x.c.topic_interest,"> ?tag.\n            }\n            UNION\n            {\n              ?s <").concat(x.a.tag,"> ?thing.\n              ?s <").concat(x.a.tag,"> ?tag.\n            }\n            FILTER (?thing != ?tag)\n          }\n          GROUP BY ?tag"),sources:Object(b.a)(w)}},transformResponse:function(e){return e.map((function(e){return{uri:e.tag,count:+e.matchCount}}))}})}}}),K=Object(A.configureStore)({reducer:(r={login:z},Object(q.a)(r,X.reducerPath,X.reducer),Object(q.a)(r,S.reducerPath,S.reducer),Object(q.a)(r,L.reducerPath,L.reducer),r),middleware:function(e){return e().concat(X.middleware).concat(S.middleware).concat(L.middleware)}});function V(e,t){return Object(i.useEffect)((function(){var n=t.map((function(t){return K.dispatch(e.initiate(t))}));return function(){var e,t=Object(U.a)(n);try{for(t.s();!(e=t.n()).done;){e.value.unsubscribe()}}catch(r){t.e(r)}finally{t.f()}}}),[e,t]),Object(c.e)((function(n){return t.map((function(t){return e.select(t)(n)}))}))}var J=n(3),Y=function(e){var t=e.value,n=e.options,r=e.isLoading,i=e.placeholder,a=e.onChange,c=e.onSelect;return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)("input",{placeholder:i,value:t,onChange:function(e){return a(e.target.value)}}),r&&"searching",Object(J.jsx)("ul",{children:n.map((function(e){return Object(J.jsx)("li",{children:Object(J.jsx)("button",{onClick:function(){return c(e.value)},children:e.label})},e.value)}))})]})},$=n(333),Z=n.n($),ee=function(e){var t=e.onSelect,n=e.placeholder,r=void 0===n?"find topic":n,a=Object(i.useState)(""),c=Object(j.a)(a,2),o=c[0],s=c[1],u=Object(i.useState)(""),d=Object(j.a)(u,2),l=d[0],b=d[1],p=Object(i.useMemo)((function(){return Z()(b,500)}),[]);Object(i.useEffect)((function(){p(o)}),[o,p]);var f=L.endpoints.searchInterests.useQuery(l||P.f),h=f.data,O=f.isLoading;return Object(J.jsx)(Y,{placeholder:r,value:o,options:(o&&h||[]).map((function(e){var t=e.label,n=e.description,r=e.uri;return{label:"".concat(t,": ").concat(n),value:r}})),isLoading:O,onChange:s,onSelect:function(e){var n=(null!==h&&void 0!==h?h:[]).find((function(t){return t.uri===e}));if(!n)throw new Error("this is a glitch");t(n),s("")}})},te=function(e){var t=e.tags,n=e.onAddTag,r=e.onRemoveTag,a=Object(i.useMemo)((function(){return t.filter((function(e){return e.includes("wikidata")}))}),[t]),c=V(L.endpoints.readInterest,a).filter((function(e){return e.data})).map((function(e){return e.data})).filter((function(e){return e})),s=t.map((function(e){var t;return null!==(t=c.find((function(t){return t.uri===e})))&&void 0!==t?t:{uri:e,label:e.split("/").pop(),description:e}}));return Object(J.jsxs)("div",{children:[Object(J.jsx)("ul",{style:{display:"flex",listStyleType:"none",flexWrap:"wrap",paddingLeft:0},children:s.map((function(e){return Object(J.jsxs)("li",{style:{margin:"10px"},title:e.description.slice(0,300)+(e.description.length>300?"...":""),children:[Object(J.jsx)(o.b,{to:"/tags/".concat(encodeURIComponent(e.uri)),children:e.label}),Object(J.jsx)("button",{title:"Remove ".concat(e.label," from your interests"),onClick:function(){r(e.uri)},children:Object(J.jsx)("i",{className:"icon-close"})})]},e.uri)}))}),Object(J.jsx)(ee,{placeholder:"add interest",onSelect:function(e){return n(e.uri)}})]})},ne=["idea","problem"],re=function(e){var t=e.thing,n=e.onSubmit,r=e.disabled,a=void 0!==r&&r,c=e.readonlyUri,o=void 0!==c&&c,s=Object(i.useState)(t.type),u=Object(j.a)(s,2),d=u[0],l=u[1],p=Object(i.useState)(t.label),f=Object(j.a)(p,2),h=f[0],O=f[1],v=Object(i.useState)(t.description),m=Object(j.a)(v,2),g=m[0],x=m[1],y=Object(i.useState)(t.tags),w=Object(j.a)(y,2),I=w[0],S=w[1],T=Object(i.useState)(t.uri),C=Object(j.a)(T,2),_=C[0],E=C[1];return Object(J.jsxs)("form",{className:k.a.form,onSubmit:function(e){e.preventDefault(),d&&n({type:d,uri:_,label:h,description:g,tags:I})},children:[Object(J.jsxs)("select",{value:d,onChange:function(e){return l(e.target.value)},children:[Object(J.jsxs)("option",{disabled:!0,value:"",children:[" ","-- select type --"," "]}),ne.map((function(e){return Object(J.jsx)("option",{children:e},e)}))]}),Object(J.jsx)("input",{type:"text",disabled:o,value:_,onChange:function(e){return E(e.target.value)}}),Object(J.jsx)("input",{type:"text",value:h,onChange:function(e){return O(e.target.value)}}),Object(J.jsx)("textarea",{value:g,onChange:function(e){return x(e.target.value)},cols:30,rows:10}),Object(J.jsx)(te,{tags:I,onAddTag:function(e){I.find((function(t){return t===e}))?console.log("tag already in list"):S((function(t){return[].concat(Object(b.a)(t),[e])}))},onRemoveTag:function(e){if(!I.find((function(t){return t===e})))throw new Error("tag not in list (should not happen!)");S((function(t){return t.filter((function(t){return t!==e}))}))}}),Object(J.jsx)("input",{type:"submit",value:"Save",disabled:a})]})},ie=n(98),ae=function(){var e=d(G).webId;return S.endpoints.readPerson.useQuery(e||ie.skipToken).data},ce=function(){var e,t=null===(e=ae())||void 0===e?void 0:e.uri,n=S.endpoints.createDit.useMutation(),r=Object(j.a)(n,2),i=r[0],a=r[1],c=a.isLoading,o=a.isSuccess,u=a.data;if(!t)return Object(J.jsx)(J.Fragment,{children:"Not Logged In"});if(o&&u)return Object(J.jsx)(s.a,{to:"/items/".concat(encodeURIComponent(u))});return Object(J.jsx)("div",{children:Object(J.jsx)(re,{thing:{type:"",uri:"".concat(T(t),"#").concat(globalThis.crypto.randomUUID()),label:"",description:"",tags:[]},onSubmit:function(e){i({thing:Object(l.a)(Object(l.a)({},e),{},{creator:t})})},disabled:c})})},oe=n(334),se=n.n(oe),ue=function(e,t,n){var r=t.useQuery(e),a=r.data,c=r.isLoading,o=r.isUninitialized,s=V(n,Object(i.useMemo)((function(){return(null!==a&&void 0!==a?a:[]).map((function(e){return e.uri}))}),[a])),u=s.filter((function(e){return e.data})).map((function(e){return e.data})),d=s.some((function(e){return e.isLoading||e.isUninitialized}));return{data:u,isLoading:c||d||o}},de=function(e){var t=e.editable,n=e.disabled,r=void 0!==n&&n,i=e.indexed,a=e.tags,c=e.onPublish,o=e.onUnpublish;if(!t)return null;if(i){return Object(J.jsx)("button",{disabled:r,onClick:function(){o()},children:"unpublish"})}return Object(J.jsx)("button",{disabled:r,onClick:function(){0===a.length?alert("Please add some topics first, to make this discoverable"):c()},children:"publish"})},le=function(e){var t,n=e.editable,r=e.uri,i=e.tags,a=null===(t=ae())||void 0===t?void 0:t.uri,c=S.endpoints.readDiscoverability.useQuery(r),o=c.data,s=c.isLoading,u=c.isFetching,d=S.endpoints.notifyIndex.useMutation(),l=Object(j.a)(d,2),b=l[0],f=l[1].isLoading;if(!a)return null;if(!o)return null;var O=o.length>0,v=function(){var e=Object(p.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b({uri:r,person:a});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(p.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b({uri:r,person:a,action:"remove"});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(J.jsxs)("div",{children:[O?Object(J.jsxs)("span",{children:[Object(J.jsx)("i",{className:"icon-eye"})," Indexed"]}):Object(J.jsxs)("span",{children:[Object(J.jsx)("i",{className:"icon-eye-off"})," Unlisted"]})," ",f||s||u?"saving":Object(J.jsx)(de,{editable:n,indexed:O,tags:i,onPublish:v,onUnpublish:m})]})},je=n(155),be=n.n(je),pe=n(118),fe=n.p+"static/media/main-image.62fd6594.png",he=function(e){var t=e.uri,n=S.endpoints.readPerson.useQuery(t||P.f).data,r=Object(i.useState)(fe),a=Object(j.a)(r,2),c=a[0],s=a[1];return Object(i.useEffect)((function(){Object(p.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===n||void 0===n||!n.photo){e.next=5;break}return e.next=3,Object(pe.a)(n.photo);case 3:t=e.sent,s(t);case 5:case"end":return e.stop()}}),e)})))()}),[null===n||void 0===n?void 0:n.photo]),n?Object(J.jsx)("div",{children:Object(J.jsxs)(o.b,{to:"/people/".concat(encodeURIComponent(n.uri)),children:[Object(J.jsx)("img",{src:c,style:{width:"1rem"}})," ",n.name]})}):null},Oe=n(136),ve=n.n(Oe),me=function(e){var t,n=e.tags,r=Object(i.useMemo)((function(){return n.filter((function(e){return e.includes("wikidata")}))}),[n]),a=ae(),c=null!==(t=null===a||void 0===a?void 0:a.interests)&&void 0!==t?t:[],s=V(L.endpoints.readInterest,r).filter((function(e){return e.data})).map((function(e){return e.data})).filter((function(e){return e})),u=n.map((function(e){var t;return null!==(t=s.find((function(t){return t.uri===e})))&&void 0!==t?t:{uri:e,label:e.split("/").pop(),description:e}}));return Object(J.jsx)("ul",{className:ve.a.horizontalList,children:u.map((function(e){return Object(J.jsx)("li",{title:e.description.slice(0,300)+(e.description.length>300?"...":""),children:Object(J.jsx)(o.b,{style:{color:c.includes(e.uri)?"red":void 0},to:"/tags/".concat(encodeURIComponent(e.uri)),children:e.label})},e.uri)}))})},ge={idea:"icon-idea",problem:"icon-problem"},xe=function(e){var t=e.thing,n=ae();return Object(J.jsxs)("div",{className:be.a.ditContainer,children:[Object(J.jsxs)("header",{children:[Object(J.jsx)("span",{className:be.a.ditType,title:t.type,"aria-label":t.type,children:Object(J.jsx)("i",{"aria-hidden":"true",className:ge[t.type]})})," ",Object(J.jsx)(o.b,{to:"/items/".concat(encodeURIComponent(t.uri)),children:t.label})," ",Object(J.jsx)("a",{href:t.uri,children:Object(J.jsx)("i",{className:"icon-external-link"})})]}),Object(J.jsx)("section",{children:t.description}),Object(J.jsx)("section",{children:Object(J.jsx)(me,{tags:t.tags})}),t.createdAt&&Object(J.jsxs)("aside",{children:["Created ",new Date(t.createdAt).toDateString()]}),t.updatedAt&&Object(J.jsxs)("aside",{children:["Updated ",new Date(t.updatedAt).toDateString()]}),Object(J.jsx)("aside",{children:Object(J.jsx)(he,{uri:t.creator})}),Object(J.jsx)("aside",{className:be.a.discoverability,children:Object(J.jsx)(le,{editable:(null===n||void 0===n?void 0:n.uri)===t.creator,tags:t.tags,uri:t.uri})})]})},ye=n(335),we=function(e){var t=e.children;return Object(J.jsx)(ye.a,{breakpointCols:{default:3,600:1,1200:2},className:ve.a.masonryGrid,columnClassName:ve.a.masonryGridColumn,children:t})},Ie=n(197),Se=n.n(Ie),Te=function(e){var t=e.person,n=Object(i.useState)(fe),r=Object(j.a)(n,2),a=r[0],c=r[1];return Object(i.useEffect)((function(){Object(p.a)(h.a.mark((function e(){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.photo){e.next=5;break}return e.next=3,Object(pe.a)(t.photo);case 3:n=e.sent,c(n);case 5:case"end":return e.stop()}}),e)})))()}),[t.photo]),Object(J.jsxs)("div",{className:Se.a.container,children:[Object(J.jsx)("img",{className:Se.a.avatar,src:a}),Object(J.jsxs)("div",{children:[Object(J.jsx)(o.b,{to:"/people/".concat(encodeURIComponent(t.uri)),children:t.name||"no name found"})," ",Object(J.jsx)("a",{href:t.uri,children:"link"})]}),Object(J.jsx)(me,{tags:t.interests})]})},Ce=function(){var e=d(G).webId,t=ue([e],X.endpoints.discoverPeople,S.endpoints.readPerson),n=t.data,r=t.isLoading,i=ue([e],X.endpoints.discoverDits,S.endpoints.readDitItem),a=i.data,c=i.isLoading,o=S.endpoints.readDitItems.useQuery(T(e)).data,s=ae();if(!s||!o)return Object(J.jsx)(J.Fragment,{children:"Loading self..."});if(0===w.length)return Object(J.jsx)("div",{children:"No index servers were configured. You'll find nothing here."});var u=n.map((function(e){return[e,_e(e.interests,s.interests)]})).sort((function(e,t){return t[1]-e[1]})).filter((function(e){return!!e[1]})),l=o.map((function(e){return e.uri})),b=a.filter((function(e){return!l.includes(e.uri)})).map((function(e){return[e,_e(e.tags,s.interests)]})).sort((function(e,t){return t[1]-e[1]})).filter((function(e){return!!e[1]}));return Object(J.jsxs)("div",{children:[r&&Object(J.jsx)("div",{children:"Searching People..."}),c&&Object(J.jsx)("div",{children:"Searching Dits..."}),Object(J.jsxs)(we,{children:[u.map((function(e){var t=Object(j.a)(e,2),n=t[0],r=t[1];return Object(J.jsxs)("div",{children:[Object(J.jsx)(Te,{person:n})," ",Object(J.jsxs)("span",{children:["match: ",Math.round(1e3*r)/10,"%"]})]},n.uri)})),b.map((function(e){var t=Object(j.a)(e,2),n=t[0],r=t[1];return Object(J.jsxs)("div",{children:[Object(J.jsx)(xe,{thing:n})," ",Object(J.jsxs)("span",{children:["match: ",Math.round(1e3*r)/10,"%"]})]},n.uri)}))]})]})},_e=function(e,t){var n=se()(e,t);return n.length&&n.length/Math.pow(e.length*t.length,.5)},Ee=function(){var e=Object(s.h)().itemUri,t=S.endpoints.readDitItem.useQuery(null!==e&&void 0!==e?e:P.f),n=t.data,r=t.isLoading,i=t.isUninitialized,a=S.endpoints.removeDit.useMutation(),c=Object(j.a)(a,2),u=c[0],d=c[1],l=d.isLoading;return d.isSuccess?Object(J.jsx)(s.a,{to:"/"}):e?r||i?Object(J.jsx)("div",{children:"Loading..."}):n?Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(xe,{thing:n}),Object(J.jsxs)("aside",{children:[Object(J.jsx)(o.b,{to:"/items/".concat(encodeURIComponent(e),"/edit"),children:"Edit"})," ",Object(J.jsx)("button",{disabled:l,onClick:function(){return u(e)},children:"DANGER: Remove"})]})]}):Object(J.jsx)("div",{children:"Not Found"}):Object(J.jsx)(J.Fragment,{children:"No Content..."})},ke=function(){var e,t=d(G).webId,n=Object(s.h)().itemUri,r=null===(e=ae())||void 0===e?void 0:e.uri,i=S.endpoints.readDiscoverability.useQuery(null!==n&&void 0!==n?n:P.f).data,a=S.endpoints.readDitItem.useQuery(null!==n&&void 0!==n?n:P.f),c=a.data,o=a.isLoading,u=a.isUninitialized,b=S.endpoints.updateDit.useMutation(),f=Object(j.a)(b,2),O=f[0],v=f[1],m=v.isLoading,g=v.isSuccess,x=S.endpoints.notifyIndex.useMutation(),y=Object(j.a)(x,1)[0];if(!r)return Object(J.jsx)(J.Fragment,{children:"Not Signed In"});if(g&&c)return Object(J.jsx)(s.a,{to:"/items/".concat(encodeURIComponent(c.uri))});if(!n)return Object(J.jsx)(J.Fragment,{children:"No Content..."});if(o||u)return Object(J.jsx)("div",{children:"Loading..."});if(!c)return Object(J.jsx)("div",{children:"Not Found"});var w=function(){var e=Object(p.a)(h.a.mark((function e(n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O({thing:Object(l.a)(Object(l.a)({},n),{},{creator:t})});case 2:if(null===(a=null===i||void 0===i?void 0:i.length)||void 0===a||!a){e.next=5;break}return e.next=5,y({uri:n.uri,person:r});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(J.jsx)(re,{thing:c,onSubmit:w,disabled:m,readonlyUri:!0})},De=n(138),Pe=n.n(De),Re=function(){var e=d(G).webId,t=u(),n=S.endpoints.readPerson.useQuery(e||ie.skipToken).data;return Object(J.jsxs)("header",{className:Pe.a.header,children:[Object(J.jsxs)(o.b,{className:Pe.a.homeLink,to:"/",children:[Object(J.jsx)("span",{className:Pe.a.logo,children:Object(J.jsx)("i",{className:"icon-ditup","aria-hidden":"true"})}),"ditup"]}),Object(J.jsx)("span",{className:Pe.a.separator}),Object(J.jsx)(o.b,{to:"/discover",children:"Discover"}),Object(J.jsx)(o.b,{to:"/create",children:"Create"}),Object(J.jsx)(o.b,{to:"/people/me",children:n?n.name:e}),Object(J.jsx)("button",{onClick:function(){return t(B())},children:"log out"})]})},Le=function(){var e=Object(i.useState)(""),t=Object(j.a)(e,2),n=t[0],r=t[1],a=u(),c=function(){var e=Object(p.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a(W(n));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(J.jsxs)("div",{children:[Object(J.jsx)("header",{children:"Log in with your Solid identity"}),Object(J.jsxs)("form",{onSubmit:c,children:[Object(J.jsx)("input",{type:"text",value:n,onChange:function(e){return r(e.target.value)},list:"providers"}),Object(J.jsxs)("datalist",{id:"providers",children:[Object(J.jsx)("option",{value:"https://solidcommunity.net",children:"Solid Community"}),Object(J.jsx)("option",{value:"https://inrupt.net",children:"Inrupt"})]}),Object(J.jsx)("input",{type:"submit",value:"Log in",disabled:!n})]})]})},Ne=n(156),Ue=n.n(Ne),qe=function(){return Object(J.jsx)("div",{className:Ue.a.page,children:Object(J.jsxs)("div",{className:Ue.a.wrapper,children:[Object(J.jsxs)("header",{children:[Object(J.jsx)("h1",{children:"ditup"}),Object(J.jsx)("p",{children:"do it together!"})]}),Object(J.jsx)("img",{className:Ue.a.homeImage,src:fe,alt:"mushroom"}),Object(J.jsxs)("nav",{children:[Object(J.jsx)(Le,{}),Object(J.jsx)(o.b,{to:"/signup",children:Object(J.jsx)("small",{children:"Get started with Solid?"})})]})]})})},Ae=function(e){var t=e.person,n=S.endpoints.readDitItems.useQuery(T(t)),r=n.data,i=n.isLoading,a=n.isUninitialized;return i||a||!r?Object(J.jsx)("div",{children:"Loading..."}):Object(J.jsx)(we,{children:r.map((function(e){return Object(J.jsx)("div",{children:Object(J.jsx)(xe,{thing:e})},e.uri)}))})},Fe=function(){var e=d(G).webId;return Object(J.jsx)(Ae,{person:e})},He=function(){var e,t=Object(s.h)().personId,n=d(G).webId,r="me"===t?n:t,a=S.endpoints.readPerson.useQuery(r),c=a.data,o=a.isLoading,u=a.isUninitialized,l=a.isError,b=S.endpoints.addInterest.useMutation(),f=Object(j.a)(b,1)[0],O=S.endpoints.removeInterest.useMutation(),v=Object(j.a)(O,1)[0],m=S.endpoints.notifyIndex.useMutation(),g=Object(j.a)(m,1)[0],x=S.endpoints.readDiscoverability.useQuery(r).data,y=Object(i.useState)(fe),w=Object(j.a)(y,2),I=w[0],T=w[1],C=r===n;if(Object(i.useEffect)((function(){Object(p.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===c||void 0===c||!c.photo){e.next=5;break}return e.next=3,Object(pe.a)(c.photo);case 3:t=e.sent,T(t);case 5:case"end":return e.stop()}}),e)})))()}),[null===c||void 0===c?void 0:c.photo]),o||u)return Object(J.jsx)("div",{children:"Loading..."});if(l)return Object(J.jsxs)("div",{children:["Sorry, we couldn't find user \"",r,'" for you']});var _=function(){var e=Object(p.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f({uri:r,interest:t});case 2:if(null===(n=null===x||void 0===x?void 0:x.length)||void 0===n||!n){e.next=5;break}return e.next=5,g({uri:r,person:r});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(p.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v({uri:r,interest:t});case 2:if(null===(n=null===x||void 0===x?void 0:x.length)||void 0===n||!n){e.next=5;break}return e.next=5,g({uri:r,person:r});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=C?te:me;return Object(J.jsxs)("div",{children:[Object(J.jsx)("img",{src:I,style:{width:"10rem"}}),Object(J.jsxs)("div",{children:[o?"...":null!==(e=c.name)&&void 0!==e?e:""," ",Object(J.jsx)("a",{href:r,title:"Go directly to ".concat(c.name||"this person","'s Solid Profile"),"aria-label":"Go directly to ".concat(c.name||"this person","'s Solid Profile"),children:Object(J.jsx)("i",{"aria-hidden":"true",className:"icon-external-link"})})]}),Object(J.jsx)(k,{tags:c.interests,onAddTag:_,onRemoveTag:E}),C&&Object(J.jsx)("a",{href:"https://www.interesting.chat/?interests=".concat(encodeURIComponent(c.interests.filter((function(e){return e.includes("wikidata")})).map((function(e){return e.split("/").pop()})).join(","))),children:"Chat with a stranger about your interests"}),Object(J.jsx)(le,{uri:r,tags:c.interests,editable:r===n}),Object(J.jsx)(Ae,{person:r})]})},We=function(){return Object(J.jsx)("div",{children:"Info how to get started with Solid"})},Qe=n(336),Be=n.n(Qe),Me=function(){var e=Object(s.h)().tagUri,t=L.endpoints.readInterest.useQuery(e||ie.skipToken),n=t.data,r=t.isLoading,a=t.isUninitialized,c=Object(i.useMemo)((function(){return e?[e]:ie.skipToken}),[e]),o=ue(c,X.endpoints.findDitsByTags,S.endpoints.readDitItem),u=o.data,d=o.isLoading,l=ue(c,X.endpoints.findPeopleByTags,S.endpoints.readPerson),j=l.data,b=l.isLoading,p=X.endpoints.findTagsByTags.useQuery(c),f=p.data,h=p.isLoading,O=p.isUninitialized,v=Object(i.useMemo)((function(){return Be()(null!==f&&void 0!==f?f:[]).sort((function(e,t){return t.count-e.count})).map((function(e){return e.uri})).slice(0,10)}),[f]);return r||a?Object(J.jsx)(J.Fragment,{children:"Loading..."}):Object(J.jsxs)("div",{children:[(h||O)&&Object(J.jsx)("div",{children:"Loading Tags"}),d&&Object(J.jsx)("div",{children:"Loading dits"}),b&&Object(J.jsx)("div",{children:"Loading people"}),n?Object(J.jsxs)(J.Fragment,{children:[n.image&&Object(J.jsx)("img",{style:{float:"right",width:"20em",maxWidth:"40vw",margin:"-1.34rem 0 0 0"},src:n.image,alt:"Image of ".concat(n.label)}),Object(J.jsxs)("header",{children:[Object(J.jsx)("h1",{children:n.label}),Object(J.jsx)("p",{children:n.aliases.join(" \u2022 ")}),Object(J.jsx)("small",{children:Object(J.jsx)("a",{href:n.uri,children:n.uri})}),n.officialWebsite&&Object(J.jsxs)("p",{children:["website:"," ",Object(J.jsx)("a",{href:n.officialWebsite,children:n.officialWebsite})]})]}),Object(J.jsx)("section",{style:{backgroundColor:"pink"},children:n.description})]}):Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)("div",{children:Object(J.jsxs)("a",{href:e,children:[e," ",Object(J.jsx)("i",{className:"icon-external-link","aria-hidden":"true"})]})}),Object(J.jsx)("div",{children:"Sorry, we couldn't fetch it"}),Object(J.jsx)("div",{children:"Currently we only fetch tags from wikidata. Perhaps this one lives elsewhere?"})]}),Object(J.jsx)("section",{children:v&&Object(J.jsx)(me,{tags:v})}),Object(J.jsx)("section",{children:Object(J.jsxs)(we,{children:[u.map((function(e){return Object(J.jsx)("div",{children:Object(J.jsx)(xe,{thing:e})},e.uri)})),j.map((function(e){return Object(J.jsx)("div",{children:Object(J.jsx)(Te,{person:e})},e.uri)}))]})})]})},Ge=function(){var e=Object(s.g)();Object(m.onSessionRestore)((function(t){e(new URL(t).pathname)}))};var ze=function(){Ge();var e=d(G);return"loading"===e.status?Object(J.jsx)("div",{children:"initializing"}):e.isLoggedIn?Object(J.jsxs)("div",{children:[Object(J.jsx)(Re,{}),Object(J.jsxs)(s.d,{children:[Object(J.jsx)(s.b,{path:"/",element:Object(J.jsx)(Fe,{})}),Object(J.jsx)(s.b,{path:"/discover",element:Object(J.jsx)(Ce,{})}),Object(J.jsx)(s.b,{path:"/people/:personId",element:Object(J.jsx)(He,{})}),Object(J.jsx)(s.b,{path:"/create",element:Object(J.jsx)(ce,{})}),Object(J.jsx)(s.b,{path:"/items/:itemUri",element:Object(J.jsx)(Ee,{})}),Object(J.jsx)(s.b,{path:"/items/:itemUri/edit",element:Object(J.jsx)(ke,{})}),Object(J.jsx)(s.b,{path:"/tags/:tagUri",element:Object(J.jsx)(Me,{})})]})]}):Object(J.jsx)("div",{children:Object(J.jsxs)(s.d,{children:[Object(J.jsx)(s.b,{path:"*",element:Object(J.jsx)(qe,{})}),Object(J.jsx)(s.b,{path:"/signup",element:Object(J.jsx)(We,{})})]})})};n(893),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));K.dispatch(Q()),Object(a.createRoot)(document.getElementById("root")).render(Object(J.jsx)(i.StrictMode,{children:Object(J.jsx)(c.a,{store:K,children:Object(J.jsx)(o.a,{children:Object(J.jsx)(ze,{})})})})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[894,1,2]]]);
//# sourceMappingURL=main.29450678.chunk.js.map